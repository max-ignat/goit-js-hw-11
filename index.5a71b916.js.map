{"mappings":"AAAO,MAAMA,EAAe,EAACC,aAC3BA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,KAEM,kCAAkCL,yDAE5BD,WAAsBE,2KAGcC,0GAGCC,8GAGGC,8GAGAC,oDCrBhDC,EAAUC,SAASC,cAAc,YAEhC,SAASC,EAAOC,GACrB,MAAMC,EAASD,EAAKE,IAAId,GAAce,KAAK,IAC3C,OAAOP,EAAQQ,mBAAmB,YAAaH,E,CCQjD,MAAMI,EAAO,CACXC,QAAST,SAASC,cAAc,gBAEhCS,UAAWV,SAASC,cAAc,UAClCU,QAASX,SAASC,cAAc,YAChCW,YAAaZ,SAASC,cAAc,eAGhCY,EAAa,ICtBJ,MAMbC,cACEC,QAAQC,IAAI,SAAUC,MAGtB,OAAOC,MACL,qEAAiBD,KAAKE,6EAA6EF,KAAKG,oBAEvGC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJP,KAAKG,MAAQ,EAENI,EAAKrB,QAEbsB,OAAMC,GAAUX,QAAQC,IAAIU,I,CAGjCC,YACEV,KAAKG,KAAO,C,CAEVQ,YACF,OAAOX,KAAKE,W,CAGVS,UAAMC,GACRZ,KAAKE,YAAcU,C,CA7BrBC,cACEb,KAAKE,YAAc,GACnBF,KAAKG,KAAO,C,GD+DhB,SAASlB,EAAOsB,GACdhB,EAAKG,QAAQJ,mBAAmB,YAAahB,EAAaiC,G,CA3C5DhB,EAAKC,QAAQsB,iBAAiB,UAG9B,SAAuBC,GAKrB,GAJAA,EAAMC,iBA0CR,WACEzB,EAAKG,QAAQuB,UAAY,E,CA1CzBC,GAEAtB,EAAWe,MAAQI,EAAMI,OAAOC,SAASlB,YAAYmB,MACrB,KAA5BzB,EAAWe,MAAMW,OACnB,OAGF1B,EAAWc,YAEXd,EAAWC,cAAcO,MAAKG,IACR,IAAhBA,EAAKgB,QAQTzB,QAAQC,IAAI,UAEZd,EAAOsB,IATLT,QAAQC,IAAI,UASF,G,IAxBhBR,EAAKI,YAAYmB,iBAAiB,SA6BlC,WACElB,EAAWC,cAAcO,MAAKG,IACR,IAAhBA,EAAKgB,QAITzB,QAAQC,IAAI,UAEZd,EAAOsB,IALLT,QAAQC,IAAI,UAKF,G","sources":["src/js/cardTemplate.js","src/js/render.js","src/index.js","src/js/api-service.js"],"sourcesContent":["export const cardTemplate = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return`<a class=\"gallery__link\" href=\"${largeImageURL}\">\n <div class=\"photo-card\" style=\"\" >\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" class=\"gallery__image\" width=\"345\" />\n   <div class=\"info\" width=\"400\">\n     <p class=\"info-item\">\n       <b>Likes: <span class=\"info-item__value\">${likes}</span></b>\n      </p>\n     <p class=\"info-item\">\n        <b>Views: <span class=\"info-item__value\">${views}</span></b>\n      </p>\n      <p class=\"info-item\">\n        <b>Comments: <span class=\"info-item__value\">${comments}</span></b>\n      </p>\n      <p class=\"info-item\">\n       <b>Downloads: <span class=\"info-item__value\">${downloads}</span></b>\n    </p>\n   </div>\n </div>\n </a>`}\n\n\n\n\n\n\n\n\n// // export const getItemsTemplate = ({\n// //   webformatURL,\n// //   largeImageURL,\n// //   tags,\n// //   likes,\n// //   views,\n// //   comments,\n// //   downloads,\n// // }) => {\n// //   return `\n// //   <a class=\"gallery-link\" href=\"${largeImageURL}\">\n// // <img class =\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n// // <div class=\"info\">\n// //   <p class=\"info-item\">\n// //     <b>Likes: ${likes}</b>\n// //   </p>\n// //   <p class=\"info-item\">\n// //     <b>Views: ${views}</b>\n// //   </p>\n// //   <p class=\"info-item\">\n// //     <b>Comments: ${comments}</b>\n// //   </p>\n// //   <p class=\"info-item\">\n// //     <b>Downloads: ${downloads}</b>\n// //   </p>\n// // </div>\n// // </a>`;\n// // };\n","import { cardTemplate } from \"./cardTemplate\";\n\nconst gallery = document.querySelector('.gallery');\n\nexport function render(hits) {\n  const markup = hits.map(cardTemplate).join('');\n  return gallery.insertAdjacentHTML('beforeend', markup);\n}","import ApiService from './js/api-service';\n// import Notiflix from 'notiflix';\nimport { cardTemplate } from './js/cardTemplate';\nimport { render } from './js/render';\n// import SimpleLightbox from 'simplelightbox';\nimport './sass/index.scss';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n// import './css/simplelight-box.css';\n// const lightbox = new SimpleLightbox('.gallery a', {\n//   captionsData: 'alt',\n//   captionDelay: 250,\n//   scrollZoom: false,\n// });\n\nconst refs = {\n  inputEl: document.querySelector('#search-form'),\n\n  submitBtn: document.querySelector('button'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nconst apiService = new ApiService();\n\nrefs.inputEl.addEventListener('submit', onSubmitClick);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSubmitClick(event) {\n  event.preventDefault();\n  clearRender();\n\n  apiService.query = event.target.elements.searchQuery.value;\n  if (apiService.query.trim() === '') {\n    return ;\n    // return Notiflix.Notify.failure('Please entrer search query');\n  }\n  apiService.resetPage();\n\n  apiService.fetchImages().then(data => {\n    if (data.length === 0) {\n      console.log('mistake'\n      );\n      // Notiflix.Notify.failure(\n      //   'Sorry, there are no images matching your search query. Please try again.'\n      // );\n      return;\n    }\n    console.log('succes');\n    // Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`);\n    render(data);\n    // lightbox.refresh();\n  });\n}\n\nfunction onLoadMore() {\n  apiService.fetchImages().then(data => {\n    if (data.length === 0) {\n      console.log('mistake');\n      return;\n    }\n    console.log('succes');\n    // Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`);\n    render(data);\n    // lightbox.refresh();\n  });\n}\nfunction render(data) {\n  refs.gallery.insertAdjacentHTML('beforeend', cardTemplate(data));\n}\n\nfunction clearRender() {\n  refs.gallery.innerHTML = '';\n}\n","export default class ApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchImages() {\n    console.log('before', this);\n    const BASE_URL =\n      'https://pixabay.com/api/?key=31187962-e7df80d652d1f0f281ee6ae38';\n    return fetch(\n      `${BASE_URL}&q=${this.searchQuery}&&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=30`\n    )\n      .then(response => response.json())\n      .then(data => {\n        this.page += 1;\n\n        return data.hits;\n      })\n      .catch(error => (console.log(error)));\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$71ae010e5fbd76f4$export$f3d44414f0a0d0b1","webformatURL","largeImageURL","tags","likes","views","comments","downloads","$0e271c871dabf025$var$gallery","document","querySelector","$0e271c871dabf025$export$b3890eb0ae9dca99","hits","markup","map","join","insertAdjacentHTML","$1f0dc3b9307be026$var$refs","inputEl","submitBtn","gallery","loadMoreBtn","$1f0dc3b9307be026$var$apiService","fetchImages","console","log","this","fetch","searchQuery","page","then","response","json","data","catch","error","resetPage","query","newQuery","constructor","addEventListener","event","preventDefault","innerHTML","$1f0dc3b9307be026$var$clearRender","target","elements","value","trim","length"],"version":3,"file":"index.5a71b916.js.map"}