!function(){function e(e){return e&&e.__esModule?e.default:e}var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};var t={};function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,n,t){n&&a(e.prototype,n);t&&a(e,t);return e};var o=function(){"use strict";function a(){e(n)(this,a),this.searchQuery="",this.page=1}return e(t)(a,[{key:"fetchImages",value:function(){var e=this;console.log("before",this);return fetch("".concat("https://pixabay.com/api/?key=31187962-e7df80d652d1f0f281ee6ae38","&q=").concat(this.searchQuery,"&&image_type=photo&orientation=horizontal&safesearch=true&page=").concat(this.page,"&per_page=30")).then((function(e){return e.json()})).then((function(n){return e.page+=1,n.hits})).catch((function(e){return console.log(e)}))}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),a}(),r=function(e){var n=e.webformatURL,t=e.largeImageURL,a=e.tags,o=e.likes,r=e.views,c=e.comments,s=e.downloads;return'<a class="gallery__link" href="'.concat(t,'">\n <div class="photo-card" style="" >\n  <img src="').concat(n,'" alt="').concat(a,'" loading="lazy" class="gallery__image" width="345" />\n   <div class="info" width="400">\n     <p class="info-item">\n       <b>Likes: <span class="info-item__value">').concat(o,'</span></b>\n      </p>\n     <p class="info-item">\n        <b>Views: <span class="info-item__value">').concat(r,'</span></b>\n      </p>\n      <p class="info-item">\n        <b>Comments: <span class="info-item__value">').concat(c,'</span></b>\n      </p>\n      <p class="info-item">\n       <b>Downloads: <span class="info-item__value">').concat(s,"</span></b>\n    </p>\n   </div>\n </div>\n </a>")},c=document.querySelector(".gallery");function s(e){var n=e.map(r).join("");return c.insertAdjacentHTML("beforeend",n)}var i={inputEl:document.querySelector("#search-form"),submitBtn:document.querySelector("button"),gallery:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more")},l=new o;function s(e){i.gallery.insertAdjacentHTML("beforeend",r(e))}i.inputEl.addEventListener("submit",(function(e){if(e.preventDefault(),function(){i.gallery.innerHTML=""}(),l.query=e.target.elements.searchQuery.value,""===l.query.trim())return;l.resetPage(),l.fetchImages().then((function(e){0!==e.length?(console.log("succes"),s(e)):console.log("mistake")}))})),i.loadMoreBtn.addEventListener("click",(function(){l.fetchImages().then((function(e){0!==e.length?(console.log("succes"),s(e)):console.log("mistake")}))}))}();
//# sourceMappingURL=index.7163fb65.js.map
