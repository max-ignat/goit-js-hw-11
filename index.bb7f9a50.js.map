{"mappings":"AAAO,MAAMA,EAAe,EAACC,aAC3BA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,KAEO,qCACyBL,yCACCD,WAAsBE,oFAGzCC,yDAGAC,4DAGGC,6DAGCC,8BCnBdC,EAAO,CACXC,QAASC,SAASC,cAAc,gBAEhCC,UAAWF,SAASC,cAAc,UAClCE,QAASH,SAASC,cAAc,YAChCG,YAAaJ,SAASC,cAAc,eAGhCI,EAAa,ICZJ,MAMbC,cAIE,OAAOC,MACL,qEAAiBC,KAAKC,6EAA6ED,KAAKE,mBAEvGC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJN,KAAKE,MAAQ,EAENI,EAAKC,O,CAIlBC,YACER,KAAKE,KAAO,C,CAEVO,YACF,OAAOT,KAAKC,W,CAGVQ,UAAMC,GACRV,KAAKC,YAAcS,C,CA5BrBC,cACEX,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GDwBhB,SAASU,EAAaL,GACpBjB,EAAKK,QAAQkB,mBAAmB,YAAa/B,EAAayB,G,CAd5DjB,EAAKC,QAAQuB,iBAAiB,UAG9B,SAAuBC,GACrBA,EAAMC,iBACNnB,EAAWY,MAAQM,EAAME,OAAOC,SAASjB,YAAYkB,MACrDtB,EAAWW,YACXX,EAAWC,cAAcK,KAAKS,E,IANhCtB,EAAKM,YAAYkB,iBAAiB,SASlC,WACEjB,EAAWC,cAAcK,KAAKS,E","sources":["src/js/cardTemplate.js","src/index.js","src/js/api-service.js"],"sourcesContent":["export const cardTemplate = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n<img class =\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n<div class=\"info\">\n  <p class=\"info-item\">\n    <b>Likes: ${likes}</b>\n  </p>\n  <p class=\"info-item\">\n    <b>Views: ${views}</b>\n  </p>\n  <p class=\"info-item\">\n    <b>Comments: ${comments}</b>\n  </p>\n  <p class=\"info-item\">\n    <b>Downloads: ${downloads}</b>\n  </p>\n</div>\n</a>`;\n};\n","import ApiService from './js/api-service';\nimport { cardTemplate } from './js/cardTemplate';\n\n\nconst refs = {\n  inputEl: document.querySelector('#search-form'),\n\n  submitBtn: document.querySelector('button'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nconst apiService = new ApiService();\n\nrefs.inputEl.addEventListener('submit', onSubmitClick);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSubmitClick(event) {\n  event.preventDefault();\n  apiService.query = event.target.elements.searchQuery.value;\n  apiService.resetPage();\n  apiService.fetchImages().then(renderMarkUp);\n}\n\nfunction onLoadMore() {\n  apiService.fetchImages().then(renderMarkUp);\n}\nfunction renderMarkUp(hits) {\n  refs.gallery.insertAdjacentHTML('beforeend', cardTemplate(hits));\n}\n","export default class ApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchImages() {\n    // console.log('before', this);\n    const BASE_URL =\n      'https://pixabay.com/api/?key=31187962-e7df80d652d1f0f281ee6ae38';\n    return fetch(\n      `${BASE_URL}&q=${this.searchQuery}&&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=5`\n    )\n      .then(response => response.json())\n      .then(data => {\n        this.page += 1;\n\n        return data.hits;\n      });\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$71ae010e5fbd76f4$export$f3d44414f0a0d0b1","webformatURL","largeImageURL","tags","likes","views","comments","downloads","$1f0dc3b9307be026$var$refs","inputEl","document","querySelector","submitBtn","gallery","loadMoreBtn","$1f0dc3b9307be026$var$apiService","fetchImages","fetch","this","searchQuery","page","then","response","json","data","hits","resetPage","query","newQuery","constructor","$1f0dc3b9307be026$var$renderMarkUp","insertAdjacentHTML","addEventListener","event","preventDefault","target","elements","value"],"version":3,"file":"index.bb7f9a50.js.map"}